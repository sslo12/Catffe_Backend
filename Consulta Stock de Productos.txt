Nombres: Shirley Stefany Lombana. Maria Jose Clavijo Rojas.

Realizar una consulta que permita recuperar cuál es el estado de todos los productos respecto a su stock. La información que deberá ser visualizada es: nombre de la categoría, nombre del producto y cantidad (stock). Los datos visualizados deberán estar ordenados por nombre de categoría.

Dentro de la clase ProductosController, hemos implementado una solicitud GET dirigidas a la ruta "/stock". Esta operacion devuelve información detallada sobre el estado del stock de productos en forma de una lista.

@GetMapping("/stock")
    public ResponseEntity<List<Map<String, Object>>> obtenerStockDeProductos() {
        List<ProductosModel> productos = productosService.listarProductos();

        List<Map<String, Object>> stockInfoList = new ArrayList<>();

        for (ProductosModel producto : productos) {
            Map<String, Object> stockInfo = new HashMap<>();
            stockInfo.put("tipo", producto.getTipo().toString()); 
            stockInfo.put("nombre", producto.getNombre());
            stockInfo.put("cantidadDispo", producto.getCantidad_dispo());

            stockInfoList.add(stockInfo);
        }

        // Ordenar la lista por tipo
        stockInfoList.sort((a, b) -> ((String) a.get("tipo")).compareTo((String) b.get("tipo")));

        return new ResponseEntity<>(stockInfoList, HttpStatus.OK);
    }
